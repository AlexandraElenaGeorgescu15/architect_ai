[
  {
    "version": 1,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "```mermaid\ngraph LR\n    A[Product Manager] --> B[UX Designer]\n    B --> C[Lead Frontend Developer]\n    C --> D[Lead Backend Developer]\n\n    subgraph UI/UX\n        A --> E[New Button]\n        E --> F[Modal (Pop-up)]\n        F --> G[Form with fields: Phone to Request, Phone to Exchange, Reason for Request (Optional), Submit Request, Cancel buttons]\n        F --> H[Confirmation Message]\n    end\n\n    subgraph Backend Logic\n        F --> I[API Endpoint (POST /api/phone-swaps)]\n        I --> J[Database Table: Swap Requests]\n        J --> K[Validation to ensure user ownership of offered phone in exchange]\n    end\n\n    A --> L[Jira Ticket with User Story and Acceptance Criteria]\n```",
    "metadata": {
      "model_used": "gemini-2.0-flash-exp",
      "provider": "gemini",
      "validation_score": 85.0,
      "is_valid": true,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": null,
      "migrated_from": "mermaid_erd_20251124_180123"
    },
    "created_at": "2025-11-24T18:01:23.474443",
    "is_current": false
  },
  {
    "version": 2,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "Here's a comprehensive Mermaid ERD (Entity-Relationship Diagram) based on the requirements:\n\n```mermaid\nerDiagram\n  User ||--o{ Phone: owns\n  Phone ||--|{ SwapRequest: contains\n  SwapRequest }|--> ReasonForRequest : has\n  SwapRequest }|--> Status : has\n\nclassDef phone green fill, stroke;\nclassDef swapRequest blue fill, stroke;\nclassDef reasonForRequest orange fill, stroke;\nclassDef status red fill, stroke;\n\nclass Phone {\n  - id string\n  - ownerId string\n  - modelName string\n}\n\nclass SwapRequest {\n  - id string\n  - requestId string references User(id)\n  - requestedPhoneId string references Phone(id)\n  - offeredPhoneId string references Phone(id)\n  - comment text\n  - status Status default \"Pending\"\n}\n\nclass ReasonForRequest {\n  - id string\n  - requestSwapRequestId string references SwapRequest(id)\n  - reason text\n}\n\nclass Status {\n  - id string\n  - name string\n  - description text\n}\n```\n\nThis ERD defines the following entities:\n\n1. **User**: represents a user who owns phones.\n2. **Phone**: represents a phone that can be requested or offered in exchange.\n3. **SwapRequest**: represents a request to swap one phone for another. It has relationships with:\n\t* **ReasonForRequest**: an optional reason for the request (if provided).\n\t* **Status**: the status of the request (defaulting to \"Pending\").\n4. **ReasonForRequest**: an entity that stores the reason for a swap request.\n5. **Status**: an enumeration of possible statuses for a swap request.\n\nThe relationships between entities are as follows:\n\n1. A user owns multiple phones (one-to-many).\n2. A phone can be requested or offered in exchange (many-to-many).\n3. A swap request is associated with one reason and one status.\n4. A status applies to multiple swap requests.\n\nThis ERD captures the essential relationships and entities required for implementing the Phone Swap Request feature.",
    "metadata": {
      "model_used": "llama3",
      "provider": "ollama",
      "validation_score": 90.0,
      "is_valid": true,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": null,
      "migrated_from": "mermaid_erd_20251124_180441"
    },
    "created_at": "2025-11-24T18:04:41.347501",
    "is_current": false
  },
  {
    "version": 3,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "Here is a Mermaid ERD (Entity-Relationship Diagram) based on the requirements:\n\n```mermaid\nerDiagram\n  Phone-Swap ||--o{ User : owns\n  Phone-Swap ||--| { Phone : requested-for, offered-in-exchange\n  Phone-Swap ||--o{ Status : has\n\n  User {\n    id int primary key,\n    name string\n  }\n\n  Phone {\n    id int primary key,\n    model string,\n    condition string\n  }\n\n  Phone-Swap {\n    id int primary key,\n    requester-id int references User(id),\n    requested-phone-id int references Phone(id),\n    offered-phone-id int references Phone(id),\n    comment text,\n    status-id int references Status(id)\n  }\n\n  Status {\n    id int primary key,\n    name string\n  }\n```\n\nThis ERD represents the main entities involved in the phone swap request feature: `User`, `Phone`, and `Phone-Swap`. The relationships between these entities are as follows:\n\n* A `User` can own multiple `Phone`s (one-to-many).\n* A `Phone-Swap` is requested by a `User` who owns one or more `Phone`s. This relationship is represented by the `owns` association.\n* A `Phone-Swap` involves two `Phone`s: the one being requested and the one being offered in exchange. This relationship is represented by the `requested-for` and `offered-in-exchange` associations.\n* The status of a `Phone-Swap` is represented by the `Status` entity, which has a many-to-one relationship with `Phone-Swap`.\n\nThe ERD also includes the necessary attributes for each entity: `id`, `name`, `model`, `condition`, and `comment`.",
    "metadata": {
      "model_used": "llama3",
      "provider": "ollama",
      "validation_score": 80.0,
      "is_valid": true,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "migrated_from": "mermaid_erd_20251126_163029"
    },
    "created_at": "2025-11-26T16:30:29.635260",
    "is_current": false
  },
  {
    "version": 4,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "Here's a comprehensive Mermaid ERD (Entity-Relationship Diagram) for the Phone Swap Request feature:\n\n```mermaid\nerDiagram\n  USER ||--o{ PHONE : owns\n  PHONE ||--|{ SWAP_REQUEST : offered_in_exchange\n  PHONE ||--|{ AVAIL_PHONE : requested_phone\n  SWAP_REQUEST ||--|{ COMMENT : reason_for_request\n\n  CLASS USER {\n    - id (primary key)\n    - email\n  }\n\n  CLASS PHONE {\n    - id (primary key)\n    - name\n    - description\n    - user_id (foreign key referencing the USER table)\n  }\n\n  CLASS SWAP_REQUEST {\n    - id (primary key)\n    - user_id (foreign key referencing the USER table)\n    - requested_phone_id (foreign key referencing the PHONE table)\n    - offered_phone_id (foreign key referencing the PHONE table)\n    - status (default: 'Pending')\n    - comment\n  }\n\n  CLASS AVAIL_PHONE {\n    - id (primary key)\n    - name\n    - description\n  }\n\n  CLASS COMMENT {\n    - id (primary key)\n    - text\n    - swap_request_id (foreign key referencing the SWAP_REQUEST table)\n  }\n```\n\nThis ERD represents the relationships between the entities involved in the Phone Swap Request feature:\n\n1. A user owns one or more phones.\n2. Each phone has a unique ID and is offered in exchange for another phone through a swap request.\n3. The requested phone and the offered phone are both instances of the PHONE entity.\n4. A swap request belongs to a specific user and includes information about the requested phone, the offered phone, and any additional comments.\n5. Comments are associated with each swap request.\n\nThis ERD should provide a solid foundation for designing the database schema and implementing the Phone Swap Request feature.",
    "metadata": {
      "model_used": "llama3",
      "provider": "ollama",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": null,
      "migrated_from": "mermaid_erd_20251126_173132"
    },
    "created_at": "2025-11-26T17:31:32.278935",
    "is_current": false
  },
  {
    "version": 5,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "**Mermaid Flowchart for Phone Swap Request Feature**\n\n```mermaid\ngraph LR\n    A[User clicks \"Request Phone Swap\" button] -->|Triggers modal popup| B[Modal with form]\n    B -->|Contains fields: Phone to Request, Phone to Exchange, Reason for Request (Optional), Actions| C[Form submission]\n    C -->|Validates user's ownership of offered phone| D[Backend validation]\n    D -->|Successful submission| E[Confirmation message displayed]\n    E -->|Modal closes| F[User sees confirmation message]\n    C -->|Invalid submission| G[Error message displayed]\n    G -->|Modal stays open until corrected| H[Form resubmission]\n```\n\n**Explanation**\n\n1. The user clicks the \"Request Phone Swap\" button, triggering a modal popup to appear.\n2. The modal contains a form with three fields: Phone to Request (dropdown list of available phones), Phone to Exchange (dropdown list of phones owned by the logged-in user), and Reason for Request (optional text area).\n3. When the user submits the form, the backend validation checks if the user is the actual owner of the phone being offered in exchange.\n4. If the submission is successful, a confirmation message is displayed, and the modal closes.\n5. If the submission is invalid (e.g., the user is not the owner of the offered phone), an error message is displayed, and the modal stays open until the issue is corrected.\n\n**Notes**\n\n* The wireframe for the modal and form should be created by EOD October 17 as per the action item.\n* The new API endpoint (POST /api/phone-swaps) will handle form submissions.\n* A new table will be created in the database to store swap requests, including columns for the requester's ID, requested phone, offered phone, status, and comment.\n\n**Validation**\n\nThe Mermaid flowchart ensures that all possible paths are accounted for, from the user clicking the \"Request Phone Swap\" button to the successful or unsuccessful submission of the form. The validation process checks if the user is the actual owner of the phone being offered in exchange, preventing potential issues with swap requests.",
    "metadata": {
      "model_used": "llama3",
      "provider": "ollama",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": null,
      "migrated_from": "mermaid_erd_20251126_194139"
    },
    "created_at": "2025-11-26T19:41:39.321866",
    "is_current": false
  },
  {
    "version": 6,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "**Mermaid ERD for Phone Swap Request Feature**\n\n```mermaid\nerDiagram\n  CUSTOMER ||--o{ PHONE_SWAP_REQUEST : has\n  PHONE_SWAP_REQUEST ||--|{ PHONE : requested\n  PHONE_SWAP_REQUEST ||--|{ PHONE : offered\n  CUSTOMER }|..|{ PHONE : owns\n\n  TABLE PHONE_SWAP_REQUEST (\n    id int primary key,\n    requester_id int references CUSTOMER(id),\n    requested_phone_id int references PHONE(id),\n    offered_phone_id int references PHONE(id),\n    status varchar(10) default 'Pending',\n    comment text\n  )\n\n  TABLE PHONE (\n    id int primary key,\n    customer_id int references CUSTOMER(id)\n  )\n```\n\n**Explanation**\n\nThis ERD diagram represents the entities and relationships involved in the Phone Swap Request feature. The main entities are:\n\n* `CUSTOMER`: represents a user who can request a phone swap.\n* `PHONE_SWAP_REQUEST`: represents a request to exchange one phone for another.\n* `PHONE`: represents a phone that can be requested or offered as part of a swap.\n\nThe relationships between these entities are:\n\n* A customer (`CUSTOMER`) has many phone swap requests (`PHONE_SWAP_REQUEST`).\n* A phone swap request (`PHONE_SWAP_REQUEST`) is related to two phones: the one being requested (`requested_phone`) and the one being offered in exchange (`offered_phone`).\n* A customer (`CUSTOMER`) owns many phones (`PHONE`).\n\nThe `PHONE_SWAP_REQUEST` table has the following columns:\n\n* `id`: a unique identifier for each request.\n* `requester_id`: the ID of the customer making the request, referencing the `CUSTOMER` table.\n* `requested_phone_id`: the ID of the phone being requested, referencing the `PHONE` table.\n* `offered_phone_id`: the ID of the phone being offered in exchange, referencing the `PHONE` table.\n* `status`: the status of the request (defaulting to 'Pending').\n* `comment`: any additional comments provided by the customer.\n\nThe `PHONE` table has the following columns:\n\n* `id`: a unique identifier for each phone.\n* `customer_id`: the ID of the customer who owns the phone, referencing the `CUSTOMER` table.\n\nThis ERD diagram captures the key entities and relationships involved in the Phone Swap Request feature, ensuring that the data is properly structured to support the required functionality.",
    "metadata": {
      "model_used": "llama3",
      "provider": "ollama",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": null,
      "migrated_from": "mermaid_erd_20251126_195949"
    },
    "created_at": "2025-11-26T19:59:49.186016",
    "is_current": false
  },
  {
    "version": 7,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "Here is a comprehensive Mermaid ERD (Entity-Relationship Diagram) for the Phone Swap Request Feature:\n\n```mermaid\nerDiagram\n  USER ||--o{ PHONE : owns\n  PHONE ||--|{ SWAP_REQUEST : requested_in_exchange\n  SWAP_REQUEST ||--|{ PHONE : offered_in_exchange\n\n  class USER {\n    - id (primary key)\n    - username\n  }\n\n  class PHONE {\n    - id (primary key)\n    - name\n    - description\n    - available boolean\n    - user_id (foreign key references USER(id))\n  }\n\n  class SWAP_REQUEST {\n    - id (primary key)\n    - requester_id (foreign key references USER(id))\n    - requested_phone_id (foreign key references PHONE(id))\n    - offered_phone_id (foreign key references PHONE(id))\n    - status (default 'Pending', possible values: ['Pending', 'Approved', 'Denied'])\n    - comment (text area input)\n  }\n```\n\nThis ERD captures the entities and relationships involved in the Phone Swap Request Feature:\n\n1. **USER**: Represents the users of the system, with a unique ID and username.\n2. **PHONE**: Represents the phones available for swap, with a unique ID, name, description, availability status, and foreign key referencing the user who owns it.\n3. **SWAP_REQUEST**: Represents the phone swap requests made by users, with a unique ID, foreign keys referencing the requester's user ID, requested phone ID, and offered phone ID, as well as a status (default 'Pending') and comment.\n\nThe relationships between these entities are:\n\n* A user can own multiple phones (one-to-many).\n* A phone can be requested for swap by multiple users (many-to-many).\n* A swap request is made by one user and involves two phones (many-to-one).\n\nThis ERD provides a clear visual representation of the data model, which can help guide the implementation of the feature.",
    "metadata": {
      "model_used": "llama3",
      "provider": "ollama",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": null,
      "migrated_from": "mermaid_erd_20251126_200400"
    },
    "created_at": "2025-11-26T20:04:00.066331",
    "is_current": false
  },
  {
    "version": 8,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "**Mermaid ERD for Phone Swap Request Feature**\n\n```mermaid\nerDiagram\n  CUSTOMER ||--o{ PHONE_SWAP_REQUEST : has\n  PHONE_SWAP_REQUEST ||--|{ PHONE : requested\n  PHONE_SWAP_REQUEST ||--|{ PHONE : offered\n  CUSTOMER }|..|{ PHONE : owns\n\n  TABLE PHONE_SWAP_REQUEST (\n    id int primary key,\n    requester_id int references CUSTOMER(id),\n    requested_phone_id int references PHONE(id),\n    offered_phone_id int references PHONE(id),\n    status varchar(10) default 'Pending',\n    comment text\n  )\n\n  TABLE PHONE (\n    id int primary key,\n    customer_id int references CUSTOMER(id)\n  )\n```\n\n**Explanation**\n\nThis ERD diagram represents the entities and relationships involved in the Phone Swap Request feature. The main entities are:\n\n* `CUSTOMER`: represents a user who can request a phone swap.\n* `PHONE_SWAP_REQUEST`: represents a request to exchange one phone for another.\n* `PHONE`: represents a phone that can be requested or offered as part of a swap.\n\nThe relationships between these entities are:\n\n* A customer (`CUSTOMER`) has many phone swap requests (`PHONE_SWAP_REQUEST`).\n* A phone swap request (`PHONE_SWAP_REQUEST`) is related to two phones: the one being requested (`requested_phone`) and the one being offered in exchange (`offered_phone`).\n* A customer (`CUSTOMER`) owns many phones (`PHONE`).\n\nThe `PHONE_SWAP_REQUEST` table has the following columns:\n\n* `id`: a unique identifier for each request.\n* `requester_id`: the ID of the customer making the request, referencing the `CUSTOMER` table.\n* `requested_phone_id`: the ID of the phone being requested, referencing the `PHONE` table.\n* `offered_phone_id`: the ID of the phone being offered in exchange, referencing the `PHONE` table.\n* `status`: the status of the request (defaulting to 'Pending').\n* `comment`: any additional comments provided by the customer.\n\nThe `PHONE` table has the following columns:\n\n* `id`: a unique identifier for each phone.\n* `customer_id`: the ID of the customer who owns the phone, referencing the `CUSTOMER` table.\n\nThis ERD diagram captures the key entities and relationships involved in the Phone Swap Request feature, ensuring that the data is properly structured to support the required functionality.",
    "metadata": {
      "model_used": "llama3",
      "provider": "ollama",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": null,
      "migrated_from": "mermaid_erd_20251126_195949",
      "restored_from": 6,
      "restored_at": "2025-12-09T16:05:05.106443"
    },
    "created_at": "2025-12-09T16:05:05.106443",
    "is_current": false
  },
  {
    "version": 9,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "Here is a comprehensive Mermaid ERD (Entity-Relationship Diagram) for the Phone Swap Request Feature:\n\n```mermaid\nerDiagram\n  USER ||--o{ PHONE : owns\n  PHONE ||--|{ SWAP_REQUEST : requested_in_exchange\n  SWAP_REQUEST ||--|{ PHONE : offered_in_exchange\n\n  class USER {\n    - id (primary key)\n    - username\n  }\n\n  class PHONE {\n    - id (primary key)\n    - name\n    - description\n    - available boolean\n    - user_id (foreign key references USER(id))\n  }\n\n  class SWAP_REQUEST {\n    - id (primary key)\n    - requester_id (foreign key references USER(id))\n    - requested_phone_id (foreign key references PHONE(id))\n    - offered_phone_id (foreign key references PHONE(id))\n    - status (default 'Pending', possible values: ['Pending', 'Approved', 'Denied'])\n    - comment (text area input)\n  }\n```\n\nThis ERD captures the entities and relationships involved in the Phone Swap Request Feature:\n\n1. **USER**: Represents the users of the system, with a unique ID and username.\n2. **PHONE**: Represents the phones available for swap, with a unique ID, name, description, availability status, and foreign key referencing the user who owns it.\n3. **SWAP_REQUEST**: Represents the phone swap requests made by users, with a unique ID, foreign keys referencing the requester's user ID, requested phone ID, and offered phone ID, as well as a status (default 'Pending') and comment.\n\nThe relationships between these entities are:\n\n* A user can own multiple phones (one-to-many).\n* A phone can be requested for swap by multiple users (many-to-many).\n* A swap request is made by one user and involves two phones (many-to-one).\n\nThis ERD provides a clear visual representation of the data model, which can help guide the implementation of the feature.",
    "metadata": {
      "model_used": "llama3",
      "provider": "ollama",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": null,
      "migrated_from": "mermaid_erd_20251126_200400",
      "restored_from": 7,
      "restored_at": "2025-12-09T16:05:30.849555"
    },
    "created_at": "2025-12-09T16:05:30.849555",
    "is_current": false
  },
  {
    "version": 10,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "Here's a comprehensive Mermaid ERD (Entity-Relationship Diagram) for the Phone Swap Request feature:\n\n```mermaid\nerDiagram\n  USER ||--o{ PHONE : owns\n  PHONE ||--|{ SWAP_REQUEST : offered_in_exchange\n  PHONE ||--|{ AVAIL_PHONE : requested_phone\n  SWAP_REQUEST ||--|{ COMMENT : reason_for_request\n\n  CLASS USER {\n    - id (primary key)\n    - email\n  }\n\n  CLASS PHONE {\n    - id (primary key)\n    - name\n    - description\n    - user_id (foreign key referencing the USER table)\n  }\n\n  CLASS SWAP_REQUEST {\n    - id (primary key)\n    - user_id (foreign key referencing the USER table)\n    - requested_phone_id (foreign key referencing the PHONE table)\n    - offered_phone_id (foreign key referencing the PHONE table)\n    - status (default: 'Pending')\n    - comment\n  }\n\n  CLASS AVAIL_PHONE {\n    - id (primary key)\n    - name\n    - description\n  }\n\n  CLASS COMMENT {\n    - id (primary key)\n    - text\n    - swap_request_id (foreign key referencing the SWAP_REQUEST table)\n  }\n```\n\nThis ERD represents the relationships between the entities involved in the Phone Swap Request feature:\n\n1. A user owns one or more phones.\n2. Each phone has a unique ID and is offered in exchange for another phone through a swap request.\n3. The requested phone and the offered phone are both instances of the PHONE entity.\n4. A swap request belongs to a specific user and includes information about the requested phone, the offered phone, and any additional comments.\n5. Comments are associated with each swap request.\n\nThis ERD should provide a solid foundation for designing the database schema and implementing the Phone Swap Request feature.",
    "metadata": {
      "model_used": "llama3",
      "provider": "ollama",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": null,
      "migrated_from": "mermaid_erd_20251126_173132",
      "restored_from": 4,
      "restored_at": "2025-12-09T16:08:13.902576"
    },
    "created_at": "2025-12-09T16:08:13.902576",
    "is_current": false
  },
  {
    "version": 11,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "**Mermaid ERD for Phone Swap Request Feature**\n\n```mermaid\nerDiagram\n  CUSTOMER ||--o{ PHONE_SWAP_REQUEST : has\n  PHONE_SWAP_REQUEST ||--|{ PHONE : requested\n  PHONE_SWAP_REQUEST ||--|{ PHONE : offered\n  CUSTOMER }|..|{ PHONE : owns\n\n  TABLE PHONE_SWAP_REQUEST (\n    id int primary key,\n    requester_id int references CUSTOMER(id),\n    requested_phone_id int references PHONE(id),\n    offered_phone_id int references PHONE(id),\n    status varchar(10) default 'Pending',\n    comment text\n  )\n\n  TABLE PHONE (\n    id int primary key,\n    customer_id int references CUSTOMER(id)\n  )\n```\n\n**Explanation**\n\nThis ERD diagram represents the entities and relationships involved in the Phone Swap Request feature. The main entities are:\n\n* `CUSTOMER`: represents a user who can request a phone swap.\n* `PHONE_SWAP_REQUEST`: represents a request to exchange one phone for another.\n* `PHONE`: represents a phone that can be requested or offered as part of a swap.\n\nThe relationships between these entities are:\n\n* A customer (`CUSTOMER`) has many phone swap requests (`PHONE_SWAP_REQUEST`).\n* A phone swap request (`PHONE_SWAP_REQUEST`) is related to two phones: the one being requested (`requested_phone`) and the one being offered in exchange (`offered_phone`).\n* A customer (`CUSTOMER`) owns many phones (`PHONE`).\n\nThe `PHONE_SWAP_REQUEST` table has the following columns:\n\n* `id`: a unique identifier for each request.\n* `requester_id`: the ID of the customer making the request, referencing the `CUSTOMER` table.\n* `requested_phone_id`: the ID of the phone being requested, referencing the `PHONE` table.\n* `offered_phone_id`: the ID of the phone being offered in exchange, referencing the `PHONE` table.\n* `status`: the status of the request (defaulting to 'Pending').\n* `comment`: any additional comments provided by the customer.\n\nThe `PHONE` table has the following columns:\n\n* `id`: a unique identifier for each phone.\n* `customer_id`: the ID of the customer who owns the phone, referencing the `CUSTOMER` table.\n\nThis ERD diagram captures the key entities and relationships involved in the Phone Swap Request feature, ensuring that the data is properly structured to support the required functionality.",
    "metadata": {
      "model_used": "llama3",
      "provider": "ollama",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": null,
      "migrated_from": "mermaid_erd_20251126_195949",
      "restored_from": 6,
      "restored_at": "2025-12-09T16:08:36.761736"
    },
    "created_at": "2025-12-09T16:08:36.761736",
    "is_current": false
  },
  {
    "version": 12,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "Here's a comprehensive Mermaid ERD (Entity-Relationship Diagram) for the Phone Swap Request feature:\n\n```mermaid\nerDiagram\n  USER ||--o{ PHONE : owns\n  PHONE ||--|{ SWAP_REQUEST : offered_in_exchange\n  PHONE ||--|{ AVAIL_PHONE : requested_phone\n  SWAP_REQUEST ||--|{ COMMENT : reason_for_request\n\n  CLASS USER {\n    - id (primary key)\n    - email\n  }\n\n  CLASS PHONE {\n    - id (primary key)\n    - name\n    - description\n    - user_id (foreign key referencing the USER table)\n  }\n\n  CLASS SWAP_REQUEST {\n    - id (primary key)\n    - user_id (foreign key referencing the USER table)\n    - requested_phone_id (foreign key referencing the PHONE table)\n    - offered_phone_id (foreign key referencing the PHONE table)\n    - status (default: 'Pending')\n    - comment\n  }\n\n  CLASS AVAIL_PHONE {\n    - id (primary key)\n    - name\n    - description\n  }\n\n  CLASS COMMENT {\n    - id (primary key)\n    - text\n    - swap_request_id (foreign key referencing the SWAP_REQUEST table)\n  }\n```\n\nThis ERD represents the relationships between the entities involved in the Phone Swap Request feature:\n\n1. A user owns one or more phones.\n2. Each phone has a unique ID and is offered in exchange for another phone through a swap request.\n3. The requested phone and the offered phone are both instances of the PHONE entity.\n4. A swap request belongs to a specific user and includes information about the requested phone, the offered phone, and any additional comments.\n5. Comments are associated with each swap request.\n\nThis ERD should provide a solid foundation for designing the database schema and implementing the Phone Swap Request feature.",
    "metadata": {
      "model_used": "llama3",
      "provider": "ollama",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": null,
      "migrated_from": "mermaid_erd_20251126_173132",
      "restored_from": 10,
      "restored_at": "2025-12-09T16:09:09.852115"
    },
    "created_at": "2025-12-09T16:09:09.852115",
    "is_current": false
  },
  {
    "version": 13,
    "artifact_id": "mermaid_erd",
    "artifact_type": "unknown",
    "content": null,
    "metadata": {
      "updated_by": "default",
      "update_type": "manual_edit"
    },
    "created_at": "2025-12-09T16:32:35.184913",
    "is_current": false
  },
  {
    "version": 14,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n",
    "metadata": {
      "source": "canvas_editor",
      "model_used": "manual_edit",
      "validation_score": 100,
      "is_valid": true
    },
    "created_at": "2025-12-09T16:32:35.227816",
    "is_current": false
  },
  {
    "version": 15,
    "artifact_id": "mermaid_erd",
    "artifact_type": "unknown",
    "content": null,
    "metadata": {
      "updated_by": "default",
      "update_type": "manual_edit"
    },
    "created_at": "2025-12-09T16:53:33.190665",
    "is_current": false
  },
  {
    "version": 16,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n  }\n  ffff {\n    string fffffffff\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n  COMMENT ||--|| ffff : \"\"\n",
    "metadata": {
      "source": "canvas_editor",
      "model_used": "manual_edit",
      "validation_score": 100,
      "is_valid": true
    },
    "created_at": "2025-12-09T16:53:33.235317",
    "is_current": false
  },
  {
    "version": 17,
    "artifact_id": "mermaid_erd",
    "artifact_type": "unknown",
    "content": null,
    "metadata": {
      "updated_by": "default",
      "update_type": "manual_edit"
    },
    "created_at": "2025-12-09T16:53:44.802778",
    "is_current": false
  },
  {
    "version": 18,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n",
    "metadata": {
      "source": "canvas_editor",
      "model_used": "manual_edit",
      "validation_score": 100,
      "is_valid": true
    },
    "created_at": "2025-12-09T16:53:44.845331",
    "is_current": false
  },
  {
    "version": 19,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n    string haha\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n",
    "metadata": {
      "updated_by": "default",
      "update_type": "manual_edit"
    },
    "created_at": "2026-01-14T14:56:30.418434",
    "is_current": false
  },
  {
    "version": 20,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n    string haha\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n",
    "metadata": {
      "source": "canvas_editor",
      "model_used": "manual_edit",
      "validation_score": 100,
      "is_valid": true
    },
    "created_at": "2026-01-14T14:56:30.451432",
    "is_current": false
  },
  {
    "version": 21,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n    string eeeee\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n    string haha\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n",
    "metadata": {
      "updated_by": "default",
      "update_type": "manual_edit"
    },
    "created_at": "2026-01-15T10:21:14.558773",
    "is_current": false
  },
  {
    "version": 22,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n    string eeeee\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n    string haha\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n",
    "metadata": {
      "source": "canvas_editor",
      "model_used": "manual_edit",
      "validation_score": 100,
      "is_valid": true
    },
    "created_at": "2026-01-15T10:21:14.812571",
    "is_current": false
  },
  {
    "version": 23,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "graph TD;\n    A[Phone Management System] --> B[Brands];\n    A --> C[Models];\n    B --> D[Storage];\n    C --> E[Pricing];\n    F[Users] --> G[Add, Edit, Delete Phones];",
    "metadata": {
      "model_used": "gemini-2.5-flash",
      "provider": "cloud",
      "validation_score": 85.0,
      "is_valid": true,
      "meeting_notes": "Phone management system with brands, models, storage, and pricing. Users can add, edit, and delete phones.",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        graph TD;\n    A[Phone Management System] --> B[Brands];\n    A --> C[Models];\n    B --> D[Storage];\n    C --> E[Pricing];\n    F[Users] --> G[Add, Edit, Delete Phones];\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-19 20:26:52</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "medium",
        "confidence": 0.5,
        "score": 0.5,
        "reasons": {
          "notes_depth": -0.15,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_b3d9abc6",
      "attempts": [
        {
          "model": "gemini-2.5-flash",
          "provider": "gemini",
          "content": "```mermaid\ngraph TD;\n    A[Phone Management System] --> B[Brands];\n    A --> C[Models];\n    B --> D[Storage];\n    C --> E[Pricing];\n    F[Users] --> G[Add, Edit, Delete Phones];\n```",
          "score": 85.0,
          "is_valid": true,
          "errors": []
        }
      ],
      "folder_id": null
    },
    "created_at": "2026-01-19T20:26:52.913365",
    "is_current": false
  },
  {
    "version": 24,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n    USER {\n        varchar name\n        varchar email\n        varchar password\n    }\n    PHONE {\n        varchar brand\n        varchar model\n        int storage\n        decimal price\n    }\n    USER ||--o{ PHONE : contains }",
    "metadata": {
      "model_used": "gemini-2.5-flash",
      "provider": "cloud",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "Phone management app",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        erDiagram\n    USER {\n        varchar name\n        varchar email\n        varchar password\n    }\n    PHONE {\n        varchar brand\n        varchar model\n        int storage\n        decimal price\n    }\n    USER ||--o{ PHONE : contains }\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-19 20:36:03</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "medium",
        "confidence": 0.5,
        "score": 0.5,
        "reasons": {
          "notes_depth": -0.15,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_7963c383",
      "attempts": [
        {
          "model": "gemini-2.5-flash",
          "provider": "gemini",
          "content": "```mermaid\nerDiagram\n    USER {\n        id PK\n        name VARCHAR(50) NOT NULL\n        email VARCHAR(100) UNIQUE NOT NULL\n        password VARCHAR(255) NOT NULL\n    }\n\n    PHONE {\n        id PK\n        brand VARCHAR(50) NOT NULL\n        model VARCHAR(50) NOT NULL\n        storage INT NOT NULL\n        price DECIMAL(10, 2) NOT NULL\n    }\n\n    USER ||--o{ PHONE : contains }\n```",
          "score": 100.0,
          "is_valid": true,
          "errors": []
        }
      ],
      "folder_id": null
    },
    "created_at": "2026-01-19T20:36:03.090051",
    "is_current": false
  },
  {
    "version": 25,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "graph LR\n    User(User) --> Orders(Orders)\n    Products(Products) --> Orders(Orders)\n    Categories(Categories) --> Products(Products)\n    Users(Users) --> Phones(Phones)\n    Phones(Phones) --> OrderItems(OrderItems)",
    "metadata": {
      "model_used": "gemini-2.5-flash",
      "provider": "cloud",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "\n## E-commerce Database Design\n- Users table: id, email, password_hash, name, created_at\n- Products table: id, name, description, price, stock, category_id\n- Categories table: id, name, parent_id\n- Or",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        graph LR\n    User(User) --> Orders(Orders)\n    Products(Products) --> Orders(Orders)\n    Categories(Categories) --> Products(Products)\n    Users(Users) --> Phones(Phones)\n    Phones(Phones) --> OrderItems(OrderItems)\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-20 16:56:31</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "medium",
        "confidence": 0.7000000000000001,
        "score": 0.7000000000000001,
        "reasons": {
          "notes_structure": 0.05,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_7d093e12",
      "attempts": [
        {
          "model": "gemini-2.5-flash",
          "provider": "gemini",
          "content": "```mermaid\ngraph LR\n    User(User) --> Orders(Orders)\n    Products(Products) --> Orders(Orders)\n    Categories(Categories) --> Products(Products)\n    Users(Users) --> Phones(Phones)\n    Phones(Phones) --> OrderItems(OrderItems)\n```",
          "score": 100.0,
          "is_valid": true,
          "errors": []
        }
      ],
      "folder_id": null
    },
    "created_at": "2026-01-20T16:56:31.249706",
    "is_current": false
  },
  {
    "version": 26,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n    ENTITY_NAME {\n        int id PK\n    }\n    USER {\n        int id PK\n        string email\n        string password_hash\n        string name\n        datetime created_at\n    }\n    PRODUCT {\n        int id PK\n        string name\n        string description\n        decimal price\n        integer stock\n        integer category_id FK\n    }\n    CATEGORY {\n        int id PK\n        string name\n        integer parent_id FK\n    }\n    ORDER {\n        int id PK\n        int user_id FK\n        decimal total\n        string status\n        datetime created_at\n    }\n    ORDER_ITEM {\n        int id PK\n        int order_id FK\n        int product_id FK\n        integer quantity\n        decimal price\n    }\n    ENTITY1 ||--o{ ENTITY2 : relationship_label\n}\n",
    "metadata": {
      "model_used": "gemini-2.5-flash",
      "provider": "cloud",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "\n## E-commerce Database Design\n- Users table: id, email, password_hash, name, created_at\n- Products table: id, name, description, price, stock, category_id\n- Categories table: id, name, parent_id\n- Or",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        erDiagram\n    ENTITY_NAME {\n        int id PK\n    }\n    USER {\n        int id PK\n        string email\n        string password_hash\n        string name\n        datetime created_at\n    }\n    PRODUCT {\n        int id PK\n        string name\n        string description\n        decimal price\n        integer stock\n        integer category_id FK\n    }\n    CATEGORY {\n        int id PK\n        string name\n        integer parent_id FK\n    }\n    ORDER {\n        int id PK\n        int user_id FK\n        decimal total\n        string status\n        datetime created_at\n    }\n    ORDER_ITEM {\n        int id PK\n        int order_id FK\n        int product_id FK\n        integer quantity\n        decimal price\n    }\n    ENTITY1 ||--o{ ENTITY2 : relationship_label\n}\n\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-20 16:59:55</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "medium",
        "confidence": 0.7000000000000001,
        "score": 0.7000000000000001,
        "reasons": {
          "notes_structure": 0.05,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_2a505d12",
      "attempts": [
        {
          "model": "gemini-2.5-flash",
          "provider": "gemini",
          "content": "```mermaid\nerDiagram\n    ENTITY_NAME {\n        datatype fieldName PK/FK/UK\n    }\n    ENTITY1 ||--o{ ENTITY2 : relationship_label\n\n    USER {\n        int id PK\n        string email\n        string password_hash\n        string name\n        datetime created_at\n    }\n    PRODUCT {\n        int id PK\n        string name\n        string description\n        decimal price\n        integer stock\n        integer category_id FK\n    }\n    CATEGORY {\n        int id PK\n        string name\n        integer parent_id FK\n    }\n    ORDER {\n        int id PK\n        int user_id FK\n        decimal total\n        string status\n        datetime created_at\n    }\n    ORDER_ITEM {\n        int id PK\n        int order_id FK\n        int product_id FK\n        integer quantity\n        decimal price\n    }\n```",
          "score": 100.0,
          "is_valid": true,
          "errors": []
        }
      ],
      "folder_id": null
    },
    "created_at": "2026-01-20T16:59:55.927006",
    "is_current": false
  },
  {
    "version": 27,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "graph LR\n    User(User) --> Product(Product)\n    User(User) --> Category(Category)\n    Order(Order) --> User(User)\n    Order(Order) --> Product(Product)\n    Category(Category) --> Product(Product)",
    "metadata": {
      "model_used": "gemini-2.5-flash",
      "provider": "cloud",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "\n## E-commerce Database Design\n- Users table: id, email, password_hash, name, created_at\n- Products table: id, name, description, price, stock, category_id\n- Categories table: id, name, parent_id\n- Or",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        graph LR\n    User(User) --> Product(Product)\n    User(User) --> Category(Category)\n    Order(Order) --> User(User)\n    Order(Order) --> Product(Product)\n    Category(Category) --> Product(Product)\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-20 17:04:17</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "medium",
        "confidence": 0.7000000000000001,
        "score": 0.7000000000000001,
        "reasons": {
          "notes_structure": 0.05,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_5f114301",
      "attempts": [
        {
          "model": "gemini-2.5-flash",
          "provider": "gemini",
          "content": "```mermaid\ngraph LR\n    User(User) --> Product(Product)\n    User(User) --> Category(Category)\n    Order(Order) --> User(User)\n    Order(Order) --> Product(Product)\n    Category(Category) --> Product(Product)\n```",
          "score": 100.0,
          "is_valid": true,
          "errors": []
        }
      ],
      "folder_id": null
    },
    "created_at": "2026-01-20T17:04:17.256884",
    "is_current": false
  },
  {
    "version": 28,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "graph LR\n    User(User) --> Product(Product)\n    User(User) --> Category(Category)\n    Order(Order) --> User(User)\n    Order(Order) --> Product(Product)\n    Category(Category) --> Product(Product)",
    "metadata": {
      "model_used": "gemini-2.5-flash",
      "provider": "cloud",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "\n## E-commerce Database Design\n- Users table: id, email, password_hash, name, created_at\n- Products table: id, name, description, price, stock, category_id\n- Categories table: id, name, parent_id\n- Or",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        graph LR\n    User(User) --> Product(Product)\n    User(User) --> Category(Category)\n    Order(Order) --> User(User)\n    Order(Order) --> Product(Product)\n    Category(Category) --> Product(Product)\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-20 17:06:28</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "medium",
        "confidence": 0.7000000000000001,
        "score": 0.7000000000000001,
        "reasons": {
          "notes_structure": 0.05,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_8c9bb4d9",
      "attempts": [
        {
          "model": "gemini-2.5-flash",
          "provider": "gemini",
          "content": "```mermaid\ngraph LR\n    User(User) --> Product(Product)\n    User(User) --> Category(Category)\n    Order(Order) --> User(User)\n    Order(Order) --> Product(Product)\n    Category(Category) --> Product(Product)\n```",
          "score": 100.0,
          "is_valid": true,
          "errors": []
        }
      ],
      "folder_id": null
    },
    "created_at": "2026-01-20T17:06:28.520322",
    "is_current": false
  },
  {
    "version": 29,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "# mermaid_erd\n\nError: All generation attempts failed. Please check model availability and API keys.",
    "metadata": {
      "model_used": "failed",
      "provider": "cloud",
      "validation_score": 0.0,
      "is_valid": false,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        # mermaid_erd\n\nError: All generation attempts failed. Please check model availability and API keys.\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-22 08:05:48</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "high",
        "confidence": 0.9,
        "score": 0.9,
        "reasons": {
          "notes_depth": 0.2,
          "notes_structure": 0.05,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_9cfe7af5",
      "attempts": [],
      "folder_id": "swap phones"
    },
    "created_at": "2026-01-22T08:05:48.223848",
    "is_current": false
  },
  {
    "version": 30,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "flowchart TD\n    A[Start] --> B{End}",
    "metadata": {
      "updated_by": "default",
      "update_type": "manual_edit",
      "artifact_type": "mermaid_erd"
    },
    "created_at": "2026-01-22T08:07:49.718824",
    "is_current": false
  },
  {
    "version": 31,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "# mermaid_erd\n\nError: All generation attempts failed. Please check model availability and API keys.",
    "metadata": {
      "model_used": "failed",
      "provider": "cloud",
      "validation_score": 0.0,
      "is_valid": false,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        # mermaid_erd\n\nError: All generation attempts failed. Please check model availability and API keys.\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-22 08:12:47</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "high",
        "confidence": 0.9,
        "score": 0.9,
        "reasons": {
          "notes_depth": 0.2,
          "notes_structure": 0.05,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_7547daff",
      "attempts": [],
      "folder_id": "swap phones"
    },
    "created_at": "2026-01-22T08:12:47.175234",
    "is_current": false
  },
  {
    "version": 32,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "# mermaid_erd\n\nError: All generation attempts failed. Please check model availability and API keys.",
    "metadata": {
      "model_used": "failed",
      "provider": "cloud",
      "validation_score": 0.0,
      "is_valid": false,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        # mermaid_erd\n\nError: All generation attempts failed. Please check model availability and API keys.\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-22 08:27:02</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "high",
        "confidence": 0.9,
        "score": 0.9,
        "reasons": {
          "notes_depth": 0.2,
          "notes_structure": 0.05,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_0d51dfb3",
      "attempts": [],
      "folder_id": "swap phones"
    },
    "created_at": "2026-01-22T08:27:02.700906",
    "is_current": false
  },
  {
    "version": 33,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "flowchart TD\n    A[Start] --> B{End}",
    "metadata": {
      "updated_by": "default",
      "update_type": "manual_edit",
      "artifact_type": "mermaid_erd"
    },
    "created_at": "2026-01-22T08:28:26.174091",
    "is_current": false
  },
  {
    "version": 34,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "flowchart TD\n    A[Start] --> B[End]",
    "metadata": {
      "model_used": "mermaid-mistral-22b:latest",
      "provider": "cloud",
      "validation_score": 70.0,
      "is_valid": false,
      "meeting_notes": "Test simple ERD: Users table with id and name, Posts table with id title and user_id",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        flowchart TD\n    A[Start] --> B[End]\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-22 12:16:45</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "medium",
        "confidence": 0.5,
        "score": 0.5,
        "reasons": {
          "notes_depth": -0.15,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_5e5b0bda",
      "attempts": [
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": " of code",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 0
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": " of code snippets",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 1
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": " before submitting\n\n## Key Entities\n--- Snippet 13 (score: 0.173, file: C:\\Users\\AGEORGE2\\Desktop\\Dawn-final-project\\final_project\\README.md) ---\n1. The `README` is a very important file in any project as it provides documentation on how to run the project and any necessary steps.\n2. Ensure that your code does not have any syntax errors or issues by validating it before submitting.\n3. Follow best practices and conventions so that your code is readable and maintainable.\n4. Include all necessary details in the `README` to provide comprehensive documentation for users.\n\n## Sample Code\n```python\nimport sys\n# Print the current directory\nprint(sys.getcwd())\n```\n\n**Note:** Ensure your code is complete and ready for production use before submitting it.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n5. Adhere to privacy policies",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 3
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        int user_id FK\n        string title\n        datetime created_at\n    }\n    USER ||--o{ POSTS : places",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POST {\n        int id PK\n        string title\n        int user_id FK\n    }",
          "score": 55.0,
          "is_valid": false,
          "errors": [],
          "retry": 1
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nHere's a clean, correct Entity-Relationship Diagram in Mermaid syntax for the given requirements:\n```mermaid\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        int user_id FK\n        datetime created_at\n    }\n    USER ||--o{ POSTS : places\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "erDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        string title\n        int user_id FK\n    }",
          "score": 55.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is a clean, correct Entity-Relationship Diagram in Mermaid syntax based on the provided requirements and project context:\n```\nerDiagram\n    USER {\n        Guid Id PK\n        string Email\n        string Name\n    }\n    POST {\n        int id PK\n        string title\n        integer user_id FK references USER(id)\n        datetime created_at\n    }\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the Mermaid ERD diagram based on the provided requirements and project context:\n```\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        string title\n        int user_id FK\n        datetime created_at\n    }\n    USER ||--o{ POSTS : creates\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 1
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is a clean, correct Entity-Relationship Diagram in Mermaid syntax based on the provided requirements and project context:\n\nerDiagram\n    USER {\n        Guid id PK\n        string email\n        string name\n    }\n    POST {\n        int id PK\n        string title\n        int user_id FK references USER(id)\n    }\n\nUSER ||--o{ POST : owns\n\nNote: The ERD diagram only includes the entities and relationships mentioned in the provided requirements and project context. If you need to add more entities or relationships, please let me know!",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the Mermaid ERD diagram based on the provided requirements and project context:\n\nerDiagram\n    User {\n        Guid Id PK,\n        string Email,\n        string FirstName,\n        string LastName\n    }\n    Post {\n        int id PK,\n        string title,\n        int user_id FK\n    }\n    User ||--o{ Post : owns\n\nNote: The ERD diagram is based on the provided snippets, which seem to suggest a simple many-to-one relationship between users and posts. However, please review and validate the accuracy of this diagram before using it in production or sharing it with others.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        }
      ],
      "folder_id": null
    },
    "created_at": "2026-01-22T12:16:45.773061",
    "is_current": false
  },
  {
    "version": 35,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "flowchart TD\n    def evaluate_code(code)",
    "metadata": {
      "model_used": "mermaid-mistral-22b:latest",
      "provider": "cloud",
      "validation_score": 70.0,
      "is_valid": false,
      "meeting_notes": "Database design: Users table with id name email, Posts table with id title content user_id",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        flowchart TD\n    def evaluate_code(code)\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-22 12:26:48</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "medium",
        "confidence": 0.5,
        "score": 0.5,
        "reasons": {
          "notes_depth": -0.15,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_b1da2fde",
      "attempts": [
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n5. Maintain clarity and focus\n6. Adhere to formatting guidelines\n\n## Evaluation\nThe following code must be evaluated for compliance with the requirements:\n```python\nimport boto as Bot\n\ndef evaluate_code(code)\n    # Evaluation logic goes here\n```\n\n--- END OF THE DOCUMENT ---",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n5. Adhere to formatting and style guidelines",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 2
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n5. Adhere to formatting and style requirements\n6. Refer to provided context for any additional instructions",
          "score": 55.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nHere is a Mermaid Entity Relationship Diagram (ERD) based on the given requirements and project context:\n```mermaid\nerDiagram\n    USERS {\n        id int PK\n        name string\n        email string\n    }\n    POSTS {\n        id int PK\n        title string\n        content string\n        user_id int FK\n    }\n    USERS ||--o{ POSTS : places\n```\nIn this ERD, we have two entities: `USERS` and `POSTS`. The `USERS` entity has three fields: `id`, `name`, and `email`, which are the primary key (`PK`), a string field for the user's name, and an email address. The `POSTS` entity has four fields: `id`, `title`, `content`, and `user_id`, which are the primary key (`PK`), a string field for the post title, a text field for the post content, and a foreign key (`FK`) to reference the user who created the post. The relationship between the two entities is a one-to-many relationship, represented by the `||--o{ : places` symbol.\n\nThis ERD accurately represents the given requirements and project context, with all necessary fields and relationships included.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nerDiagram\n    USERS {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        string title\n        string content\n        int user_id FK\n    }",
          "score": 55.0,
          "is_valid": false,
          "errors": [],
          "retry": 1
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nerDiagram\n    USERS {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        string title\n        string content\n        int user_id FK\n    }\n    USERS ||--o{ POSTS : places\n\nThe above ERD is based on the requirements provided, which include a Users table with id, name, and email fields, and a Posts table with id, title, content, and user_id field. The cardinality of the relationship between Users and Posts is one-to-many, as each user can have multiple posts but each post belongs to only one user.\n\nThe ERD includes the necessary entities and relationships, and the syntax is valid Mermaid code.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nHere is the Mermaid ERD based on the provided requirements and project context:\n```mermaid\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POST {\n        int id PK\n        string title\n        string content\n        int user_id FK\n    }\n    USER ||--o{ POST : places\n```\nNote that the ERD includes the `USER` and `POST` entities, with a one-to-many relationship between them based on the `user_id` field in the `POST` table. The cardinality is represented by the `||--o{` syntax, which indicates a one-to-many relationship from the `USER` entity to the `POST` entity.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the generated Mermaid ERD diagram based on the provided requirements and project context:\n\n```\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        string title\n        string content\n        int user_id FK\n    }\n    USER ||--o{ POSTS : has many posts\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is a Mermaid ERD diagram based on the provided requirements, project context, and snippets:\n\n```\nerDiagram\n    USER {\n        string id PK\n        string email\n        string name\n    }\n    POST {\n        int id PK\n        string title\n        text content\n        USER ||--o{ POST : user\n    }\n    USER ||--* POST : has many posts\n\n```\n\nThe diagram includes the `USER` and `POST` entities, with their respective attributes. The relationship between `USER` and `POST` is one-to-many (one user can have multiple posts), represented by the `||--o{` notation.\n\nPlease note that this ERD diagram only captures the essence of the provided snippets and may not be a comprehensive representation of the entire project context.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 1
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the Mermaid ERD based on the provided requirements and project context:\n\n```\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POST {\n        int id PK\n        string title\n        text content\n        int user_id FK references User(id)\n    }\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the Mermaid ERD based on the provided requirements and project context:\n```\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POST {\n        int id PK\n        string title\n        text content\n        int user_id FK\n    }\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        }
      ],
      "folder_id": null
    },
    "created_at": "2026-01-22T12:26:48.900319",
    "is_current": false
  },
  {
    "version": 36,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "flowchart TD\n    A[Start] --> B[End]",
    "metadata": {
      "model_used": "mermaid-mistral-22b:latest",
      "provider": "cloud",
      "validation_score": 70.0,
      "is_valid": false,
      "meeting_notes": "Database schema: Users table with id name email, Orders table with id user_id amount status",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        flowchart TD\n    A[Start] --> B[End]\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-22 12:58:54</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "medium",
        "confidence": 0.5,
        "score": 0.5,
        "reasons": {
          "notes_depth": -0.15,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_af813b30",
      "attempts": [
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n5. Maintain a cohesive structure and readability\n6. Use your intelligence to fill in any missing gaps\n7. Evaluate the relevance of each snippet\n8. Provide the most accurate descriptions",
          "score": 55.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n5. Check for plagiarism and originality\n6. Convert to new formats if required\n7. Provide any additional context or requirements\n8. Adhere to privacy policies and agreements\n9. Exclude any inappropriate content\n10. Respect authorship and licenses",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 1
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n5. Adhere to formatting requirements\n6. Provide clear, concise, and accurate instructions\n7. Exclude irrelevant information",
          "score": 55.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n5. Adhere to required format and style\n6. Maintain consistency and coherence throughout\n7. Provide clear and unambiguous instructions",
          "score": 55.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nHere is a Mermaid ERD based on the given requirements and project context:\n```mermaid\nerDiagram\n    USER {\n        id int PK\n        name string\n        email string\n    }\n    ORDER {\n        id int PK\n        user_id int FK\n        amount decimal\n        status string\n    }\n    USER ||--o{ ORDER : places\n```\nThe ERD includes the following entities:\n\n* `USER`: has an integer primary key, name, and email.\n* `ORDER`: has an integer primary key, a foreign key to the user who placed the order, amount, and status.\n\nThere is a one-to-many relationship between `USER` and `ORDER`, with each user having multiple orders. The cardinality of this relationship is indicated by the \"o\" symbol in the ERD.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    ORDER {\n        int id PK\n        int user_id FK\n        datetime created_at\n    }\n    USER ||--o{ ORDER : places\n```\nThis ERD shows a one-to-many relationship between the `USER` and `ORDER` entities. The `ORDER` entity has a foreign key (`user_id`) that references the primary key (`id`) of the `USER` entity. This indicates that an order can be placed by only one user, and each user can have multiple orders.\n\nThe ERD also includes a cardinality notation in the form of `X o Y : relationship_label`, where `X` and `Y` are entities and `:relationship_label` is a label for the relationship between them. In this case, the cardinality notation is `USER ||--o{ ORDER : places`. The arrowheads indicate the direction of the relationship (from `USER` to `ORDER`), and the `places` label gives a brief description of the relationship.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 1
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nerDiagram\n    USERS {\n        int id PK\n        string name\n        string email\n    }\n    ORDERS {\n        int id PK\n        int user_id FK\n        decimal amount\n        varchar status\n    }\n    USERS ||--o{ ORDERS : places\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nerDiagram\n    USERS {\n        int id PK\n        string name\n        string email\n    }\n    ORDERS {\n        int id PK\n        int user_id FK\n        datetime created_at\n    }\n    USERS ||--o{ ORDERS : places\n\nThis ERD shows two entities, `USERS` and `ORDERS`, with a one-to-many relationship between them. The `USERS` entity has three attributes: `id`, `name`, and `email`. The `ORDERS` entity has three attributes: `id`, `user_id`, and `created_at`. The `user_id` attribute is a foreign key that references the primary key of the `USERS` entity. This ERD diagram shows how the two entities are related, with the `ORDERS` entity having a many-to-one relationship with the `USERS` entity.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the Mermaid ERD diagram code based on the provided requirements and project context:\n```\nerDiagram\n    USER {\n        Guid id PK\n        string email\n        string name\n    }\n    ORDER {\n        int id PK\n        Guid user_id FK\n        decimal amount\n        string status\n    }\n\n    USER ||--o{ ORDER : places\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the generated Mermaid ERD:\n```\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    ORDER {\n        int id PK\n        int user_id FK references USER(id)\n        datetime created_at\n        decimal amount\n        string status\n    }\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 1
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the ERD diagram in Mermaid syntax based on the provided requirements and project context:\n\n```\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    ORDER {\n        int id PK\n        int user_id FK references USER(id)\n        datetime created_at\n        float amount\n        string status\n    }\n\n    USER ||--o{ ORDER : places\n```\n\nNote: The provided code snippets do not contain any information about the entities and relationships between them. Therefore, I've used general terms like `USER` and `ORDER` to create a basic ERD diagram. If more specific details are available, please provide them, and I'll be happy to help you create a more accurate diagram.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the generated Mermaid ERD based on the provided requirements and project context:\n\n```mermaid\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    ORDER {\n        int id PK\n        int user_id FK\n        datetime created_at\n        int amount\n        string status\n    }\n    USER ||--o{ ORDER : places\n```\n\nPlease note that this ERD is generated based on the provided requirements and project context, but it might not be a complete representation of your actual database schema. It's always recommended to double-check the accuracy and completeness of your ERDs before using them in production.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        }
      ],
      "folder_id": null
    },
    "created_at": "2026-01-22T12:58:54.487797",
    "is_current": false
  },
  {
    "version": 37,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "flowchart TD\n    def evaluate_code(code)",
    "metadata": {
      "model_used": "manual_edit",
      "provider": "cloud",
      "validation_score": 100,
      "is_valid": true,
      "meeting_notes": "Test simple ERD: Users table with id and name, Posts table with id title and user_id",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        flowchart TD\n    A[Start] --> B[End]\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-22 12:16:45</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "medium",
        "confidence": 0.5,
        "score": 0.5,
        "reasons": {
          "notes_depth": -0.15,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_5e5b0bda",
      "attempts": [
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": " of code",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 0
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": " of code snippets",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 1
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": " before submitting\n\n## Key Entities\n--- Snippet 13 (score: 0.173, file: C:\\Users\\AGEORGE2\\Desktop\\Dawn-final-project\\final_project\\README.md) ---\n1. The `README` is a very important file in any project as it provides documentation on how to run the project and any necessary steps.\n2. Ensure that your code does not have any syntax errors or issues by validating it before submitting.\n3. Follow best practices and conventions so that your code is readable and maintainable.\n4. Include all necessary details in the `README` to provide comprehensive documentation for users.\n\n## Sample Code\n```python\nimport sys\n# Print the current directory\nprint(sys.getcwd())\n```\n\n**Note:** Ensure your code is complete and ready for production use before submitting it.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n5. Adhere to privacy policies",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 3
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        int user_id FK\n        string title\n        datetime created_at\n    }\n    USER ||--o{ POSTS : places",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POST {\n        int id PK\n        string title\n        int user_id FK\n    }",
          "score": 55.0,
          "is_valid": false,
          "errors": [],
          "retry": 1
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nHere's a clean, correct Entity-Relationship Diagram in Mermaid syntax for the given requirements:\n```mermaid\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        int user_id FK\n        datetime created_at\n    }\n    USER ||--o{ POSTS : places\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "erDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        string title\n        int user_id FK\n    }",
          "score": 55.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is a clean, correct Entity-Relationship Diagram in Mermaid syntax based on the provided requirements and project context:\n```\nerDiagram\n    USER {\n        Guid Id PK\n        string Email\n        string Name\n    }\n    POST {\n        int id PK\n        string title\n        integer user_id FK references USER(id)\n        datetime created_at\n    }\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the Mermaid ERD diagram based on the provided requirements and project context:\n```\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        string title\n        int user_id FK\n        datetime created_at\n    }\n    USER ||--o{ POSTS : creates\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 1
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is a clean, correct Entity-Relationship Diagram in Mermaid syntax based on the provided requirements and project context:\n\nerDiagram\n    USER {\n        Guid id PK\n        string email\n        string name\n    }\n    POST {\n        int id PK\n        string title\n        int user_id FK references USER(id)\n    }\n\nUSER ||--o{ POST : owns\n\nNote: The ERD diagram only includes the entities and relationships mentioned in the provided requirements and project context. If you need to add more entities or relationships, please let me know!",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the Mermaid ERD diagram based on the provided requirements and project context:\n\nerDiagram\n    User {\n        Guid Id PK,\n        string Email,\n        string FirstName,\n        string LastName\n    }\n    Post {\n        int id PK,\n        string title,\n        int user_id FK\n    }\n    User ||--o{ Post : owns\n\nNote: The ERD diagram is based on the provided snippets, which seem to suggest a simple many-to-one relationship between users and posts. However, please review and validate the accuracy of this diagram before using it in production or sharing it with others.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        }
      ],
      "folder_id": null,
      "restored_from": 18,
      "restored_at": "2026-01-22T15:21:31.366851",
      "source": "canvas_editor"
    },
    "created_at": "2026-01-22T15:21:18.330267",
    "is_current": false
  },
  {
    "version": 38,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "flowchart TD\n    A[Start] --> B[End]",
    "metadata": {
      "model_used": "mermaid-mistral-22b:latest",
      "provider": "cloud",
      "validation_score": 70.0,
      "is_valid": false,
      "meeting_notes": "Test simple ERD: Users table with id and name, Posts table with id title and user_id",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        flowchart TD\n    A[Start] --> B[End]\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-22 12:16:45</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "medium",
        "confidence": 0.5,
        "score": 0.5,
        "reasons": {
          "notes_depth": -0.15,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_5e5b0bda",
      "attempts": [
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": " of code",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 0
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": " of code snippets",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 1
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": " before submitting\n\n## Key Entities\n--- Snippet 13 (score: 0.173, file: C:\\Users\\AGEORGE2\\Desktop\\Dawn-final-project\\final_project\\README.md) ---\n1. The `README` is a very important file in any project as it provides documentation on how to run the project and any necessary steps.\n2. Ensure that your code does not have any syntax errors or issues by validating it before submitting.\n3. Follow best practices and conventions so that your code is readable and maintainable.\n4. Include all necessary details in the `README` to provide comprehensive documentation for users.\n\n## Sample Code\n```python\nimport sys\n# Print the current directory\nprint(sys.getcwd())\n```\n\n**Note:** Ensure your code is complete and ready for production use before submitting it.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n5. Adhere to privacy policies",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 3
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        int user_id FK\n        string title\n        datetime created_at\n    }\n    USER ||--o{ POSTS : places",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POST {\n        int id PK\n        string title\n        int user_id FK\n    }",
          "score": 55.0,
          "is_valid": false,
          "errors": [],
          "retry": 1
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nHere's a clean, correct Entity-Relationship Diagram in Mermaid syntax for the given requirements:\n```mermaid\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        int user_id FK\n        datetime created_at\n    }\n    USER ||--o{ POSTS : places\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "erDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        string title\n        int user_id FK\n    }",
          "score": 55.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is a clean, correct Entity-Relationship Diagram in Mermaid syntax based on the provided requirements and project context:\n```\nerDiagram\n    USER {\n        Guid Id PK\n        string Email\n        string Name\n    }\n    POST {\n        int id PK\n        string title\n        integer user_id FK references USER(id)\n        datetime created_at\n    }\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the Mermaid ERD diagram based on the provided requirements and project context:\n```\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    POSTS {\n        int id PK\n        string title\n        int user_id FK\n        datetime created_at\n    }\n    USER ||--o{ POSTS : creates\n```",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 1
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is a clean, correct Entity-Relationship Diagram in Mermaid syntax based on the provided requirements and project context:\n\nerDiagram\n    USER {\n        Guid id PK\n        string email\n        string name\n    }\n    POST {\n        int id PK\n        string title\n        int user_id FK references USER(id)\n    }\n\nUSER ||--o{ POST : owns\n\nNote: The ERD diagram only includes the entities and relationships mentioned in the provided requirements and project context. If you need to add more entities or relationships, please let me know!",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the Mermaid ERD diagram based on the provided requirements and project context:\n\nerDiagram\n    User {\n        Guid Id PK,\n        string Email,\n        string FirstName,\n        string LastName\n    }\n    Post {\n        int id PK,\n        string title,\n        int user_id FK\n    }\n    User ||--o{ Post : owns\n\nNote: The ERD diagram is based on the provided snippets, which seem to suggest a simple many-to-one relationship between users and posts. However, please review and validate the accuracy of this diagram before using it in production or sharing it with others.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        }
      ],
      "folder_id": null,
      "restored_from": 34,
      "restored_at": "2026-01-22T15:21:23.031437"
    },
    "created_at": "2026-01-22T15:21:23.031437",
    "is_current": false
  },
  {
    "version": 39,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n",
    "metadata": {
      "source": "canvas_editor",
      "model_used": "manual_edit",
      "validation_score": 100,
      "is_valid": true,
      "restored_from": 18,
      "restored_at": "2026-01-22T15:21:31.366851"
    },
    "created_at": "2026-01-22T15:21:31.366851",
    "is_current": false
  },
  {
    "version": 40,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n    string eeeee\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n    string haha\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n",
    "metadata": {
      "updated_by": "default",
      "update_type": "manual_edit",
      "restored_from": 21,
      "restored_at": "2026-01-22T15:21:39.779187"
    },
    "created_at": "2026-01-22T15:21:39.779187",
    "is_current": false
  },
  {
    "version": 41,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n    string eeeee\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n    string haha\n    string ffffffff\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n",
    "metadata": {
      "source": "canvas_editor",
      "model_used": "manual_edit",
      "validation_score": 100,
      "is_valid": true
    },
    "created_at": "2026-01-22T15:22:29.364495",
    "is_current": false
  },
  {
    "version": 42,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "graph LR\n    User(User) --> Orders(Orders)\n    Products(Products) --> Orders(Orders)\n    Categories(Categories) --> Products(Products)\n    Users(Users) --> Phones(Phones)\n    Phones(Phones) --> OrderItems(OrderItems)",
    "metadata": {
      "model_used": "gemini-2.5-flash",
      "provider": "cloud",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "\n## E-commerce Database Design\n- Users table: id, email, password_hash, name, created_at\n- Products table: id, name, description, price, stock, category_id\n- Categories table: id, name, parent_id\n- Or",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        graph LR\n    User(User) --> Orders(Orders)\n    Products(Products) --> Orders(Orders)\n    Categories(Categories) --> Products(Products)\n    Users(Users) --> Phones(Phones)\n    Phones(Phones) --> OrderItems(OrderItems)\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-20 16:56:31</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "medium",
        "confidence": 0.7000000000000001,
        "score": 0.7000000000000001,
        "reasons": {
          "notes_structure": 0.05,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_7d093e12",
      "attempts": [
        {
          "model": "gemini-2.5-flash",
          "provider": "gemini",
          "content": "```mermaid\ngraph LR\n    User(User) --> Orders(Orders)\n    Products(Products) --> Orders(Orders)\n    Categories(Categories) --> Products(Products)\n    Users(Users) --> Phones(Phones)\n    Phones(Phones) --> OrderItems(OrderItems)\n```",
          "score": 100.0,
          "is_valid": true,
          "errors": []
        }
      ],
      "folder_id": null,
      "restored_from": 25,
      "restored_at": "2026-01-22T15:22:57.788868"
    },
    "created_at": "2026-01-22T15:22:57.788868",
    "is_current": false
  },
  {
    "version": 43,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "flowchart TD\n    A[Start] --> B[End]",
    "metadata": {
      "model_used": "mermaid-mistral-22b:latest",
      "provider": "cloud",
      "validation_score": 70.0,
      "is_valid": false,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"erd_diagram\">\n                        flowchart TD\n    A[Start] --> B[End]\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> erd_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-22 18:36:24</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('erd_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "high",
        "confidence": 0.9,
        "score": 0.9,
        "reasons": {
          "notes_depth": 0.2,
          "notes_structure": 0.05,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_046135f7",
      "attempts": [
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n\n## End",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 0
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n\n## End",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 1
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n\n##",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 2
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n**Additional Notes:**\n```bash\n# \n# Generate a Mermaid Erd Based on Provided Requirements and Project Context\n\n## Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan for the new phone swap request feature.\n\n### Background\nUsers currently lack a formal way to request an exchange of their current phone for another one available in our inventory. This new feature aims to create a streamlined, in-app workflow to manage these requests efficiently.\n\n### Feature Overview\nThe team agreed on the following user story: \"As a user, I want to request a phone from the available list and offer one of my current phones in exchange, so I can easily manage my device swaps.\"\n\nThe feature will be implemented as a modal pop-up on the main phone list page.\n\n### Implementation Details\n#### Frontend (UI/UX)\nA new button, labeled \"Request Phone Swap,\" will be added to the main phone page.\n\nClicking this button will trigger a modal (pop-up) that overlays the current view.\n\nThe modal will contain a form with the following fields:\n- **Phone to Request:** A dropdown list populated with all available phones from the main list.\n- **Phone to Exchange:** A dropdown list showing only the phones currently owned by the logged-in user.\n- **Reason for Request (Optional):** A text area for any additional comments.\n- **Actions:** \"Submit Request\" and \"Cancel\" buttons.\n\nUpon successful submission, the modal will close, and a confirmation message will be displayed.\n\n#### Backend (Logic)\nA new API endpoint (POST /api/phone-swaps) will be created to handle form submissions.\n\nA new table will be created in the database to store swap requests. It will include columns for the requester's ID, the requested phone, the offered phone, a status (defaulting to 'Pending'), and the comment.\n\nBackend validation will ensure that the user making the request is the actual owner of the phone being offered in exchange.\n\n### Action Items\n- **UX Team:** Create a wireframe of the modal and form by EOD, October 17.\n- **Backend Team:** Develop the new API endpoint and database schema. Target completion: October 21.\n- **Frontend Team:** Build the \"Request Phone Swap\" button and the basic modal structure. Begin implementation once wireframes are approved.\n- **Product Manager:** Create the formal Jira ticket with the defined user story and acceptance criteria.\n\n## Project Context (from codebase)\n--- Snippet 1 (score: 0.318, file: C:\\Users\\AGEORGE2\\Desktop\\Dawn-final-project\\final-proj-sln\\registration-api\\program.cs) ---\nusing Microsoft.Extensions.Options;\nusing registration_api.Services;\nusing registration_api.Settings;\nimport(system.reflection);\n\nvar builder = WebApplication.CreateBuilder(args);\n// Add services to the container.\n\nbuilder.Services.AddSingleton<IMongoDBSettings>(sp => sp.GetRequiredService<IOptions<MongoDBSettings>().Value);\n\nbuilder.Services.AddCors(options => {\n    options.AddPolicy(name: \"CorsPolicy\",\n                              policy=> {\n                                  policy.WithOrigins(\"http://localhost:4200\")\n                                  .AddAnyHeader()\n                                  .AddAnyMethod()\n                                  .AddCredentials();\n                              });\n});\n\nbuilder.Services.AddSignalR();\nbuilder.Services.AddControllers();\n\n--- Snippet 2 (score: 0.314, file: unknown) ---\nFILE: C:\\Users\\AGEORGE2\\Desktop\\Dawn-final-project\\final_proj-sln\\registration-api\\program.cs\nSECTION: 0\nimport { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { Phone } from 'src/models/phone';\nimport { PhoneService } from 'src/app/services/phone.service';\nimport { NzModalService } from 'ng-zorro-antd/modal';\nimport { EntryDetailsModalComponent } from '../entry-details-modal/entry-details-modal.component';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\n\n@Component({\n  selector: 'app-table-page',\n  templateUrl: './table-page.component.html',\n  styleUrls: ['./table-page.component.scss']\n})\n\n--- Snippet 3 (score: 0.290, file: C:\\Users\\AGEORGE2\\Desktop\\Dawn-final-project\\boa\\frontend\\src\\components\\UnifiedStudioTabs.tsx) ---\nimport { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { NzModalService } from 'ng-zorro-antd/modal';\nimport { EntryDetailsModalComponent } from '../entry-details-modal/entry-details-modal.component';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\n\n@Component({\n  selector: 'unified-studio-tabs',\n  templateUrl: './unified-studio-tabs.html',\n  styleUrls: ['./unified-studio-tabs.scss']\n})\n--- Snippet 4 (score: 0.238, file: C:\\Users\\AGEORGE2\\Desktop\\Dawn-final-project\\boa\\frontend\\src\\components\\UnifiedStudioTabs.tsx) ---\nimport { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { NzModalService } from 'ng-zorro-antd/modal';\nimport { EntryDetailsModalComponent } from '../entry-details-modal/entry-details-modal.component';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\n\n@Component({\n  selector: 'unified-studio-tabs',\n  templateUrl: './unified-studio-tabs.html',\n  styleUrls: ['./unified-studio-tabs.scss']\n})",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nHere's a clean, correct Entity-Relationship Diagram (ERD) in Mermaid syntax for the given project context:\n```mermaid\nerDiagram\n    USER ||--o{ ORDER : places\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    ORDER {\n        int id PK\n        int user_id FK\n        datetime created_at\n    }\n```\nThis ERD includes all the necessary entities and relationships between them, including the cardinalities for each relationship. It also adheres to the syntax requirements mentioned in the prompt, including using the `erDiagram` keyword and not using class or ->.\n\nPlease note that this is a simplified diagram and may not capture all the details of the actual project context.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nerDiagram\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    ORDER {\n        int id PK\n        int user_id FK\n        datetime created_at\n    }\n    PHONE {\n        int id PK\n        string brand\n        string model\n        int storage\n        float price\n    }\n    USER ||--o{ ORDER : places\n    ORDER }o--|{ PHONE : contains\n```\n\nThis diagram represents the entities, relationships, and cardinalities between them. The `USER` entity has three attributes: `id`, `name`, and `email`. The `ORDER` entity has three attributes: `id`, `user_id`, and `created_at`. The `PHONE` entity has four attributes: `id`, `brand`, `model`, `storage`, and `price`.\n\nThe relationships between the entities are represented by the lines. The `USER ||--o{ ORDER : places` line indicates that a user can have many orders, and each order is associated with a specific user. The `ORDER }o--|{ PHONE : contains` line indicates that an order can contain many phones, and each phone belongs to one order.\n\nThe cardinalities of the relationships are also included in the diagram. For example, the `USER ||--o{ ORDER : places` line shows that a user has a one-to-many relationship with orders, meaning that a user can have multiple orders but an order can only belong to one user. Similarly, the `ORDER }o--|{ PHONE : contains` line shows that an order has a one-to-many relationship with phones, meaning that an order can contain many phones but each phone can only belong to one order.\n\nOverall, this ERD provides a clear and concise representation of the entities, relationships, and cardinalities between them, which is essential for understanding the structure and behavior of the system being modeled.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 1
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nHere's a Mermaid Entity-Relationship Diagram for the given requirements:\n```mermaid\nerDiagram\n    User {\n        id int PK\n        name string\n        email string\n    }\n    Phone {\n        id int PK\n        user_id int FK\n        brand string\n        model string\n        storage int\n        price float\n    }\n    SwapRequest {\n        id int PK\n        phone_to_request_id int FK\n        phone_to_exchange_id int FK\n        reason text\n    }\n    User ||--o{ Phone : places\n    Phone ||--o{ SwapRequest : requests\n```\nThis ERD includes the following entities and relationships:\n\n* `User` entity with attributes `id`, `name`, and `email`.\n* `Phone` entity with attributes `id`, `user_id`, `brand`, `model`, `storage`, and `price`. The `user_id` attribute is a foreign key that references the `id` attribute of the `User` entity.\n* `SwapRequest` entity with attributes `id`, `phone_to_request_id`, `phone_to_exchange_id`, and `reason`. The `phone_to_request_id` and `phone_to_exchange_id` attributes are foreign keys that reference the `id` attribute of the `Phone` entity.\n* A one-to-many relationship between `User` and `Phone` entities, where a user can have multiple phones but a phone can only belong to one user.\n* A many-to-many relationship between `Phone` and `SwapRequest` entities, where a phone can be requested for swap multiple times and a swap request can involve multiple phones.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "\nerDiagram\n    UserDto {\n        string userName PK\n        string email\n        int phoneNumber PK\n        boolean isVerified\n    }\n    WeatherForecast {\n        date date PK\n        string weatherDescription\n        float temperatureC\n    }\n    UsersController {\n        string action Get\n        string url /api/users\n        string method GET\n        string responseStatusCode 200\n    }\n    WeatherForecastController {\n        string action Get\n        string url /api/weatherforecast\n        string method GET\n        string responseStatusCode 200\n    }\n    IUserService {\n        string type interface\n        string name IUserService\n        string method GetUsers\n    }\n    UserService {\n        string type class\n        string name UserService\n        string extends IUserService\n        string constructor IUserService userService\n        string method GetUsers() IEnumerable<UserDto>\n    }\n    IMongoDBSettings {\n        string type interface\n        string name IMongoDBSettings\n        string property ConnectionString\n        string property DatabaseName\n    }\n    MongoDBSettings {\n        string type class\n        string name MongoDBSettings\n        string extends IMongoDBSettings\n        string property ConnectionString\n        string property DatabaseName\n    }\n    AppRoutingModule {\n        string type class\n        string name AppRoutingModule\n        string extends IAppModule\n        string method GetRoutes() IEnumerable<Route>\n    }\n    AppComponent {\n        string type class\n        string name AppComponent\n        string extends IAppComponent\n        string property Title\n        string property IsAuthenticated\n        string method GetIsAuthenticated() bool\n    }\n    AppModule {\n        string type class\n        string name AppModule\n        string extends IAppModule\n        string constructor IMongoDBSettings mongoDBSettings\n        string method GetRoutes() IEnumerable<Route>\n        string method GetServices() IEnumerable<Type>\n    }\n    AuthenticationModule {\n        string type class\n        string name AuthenticationModule\n        string extends IAppModule\n        string constructor IAuthenticationService authenticationService\n        string property IsAuthenticated\n        string method GetIsAuthenticated() bool\n    }\n    LoginComponent {\n        string type class\n        string name LoginComponent\n        string extends ILoginComponent\n        string property Title\n        string method OnSubmit(string username, string password) void\n    }\n    RegisterComponent {\n        string type class\n        string name RegisterComponent\n        string extends IRegisterComponent\n        string property Title\n        string method OnSubmit(string username, string email, string password) void\n    }\n    NameUppercasePipe {\n        string type class\n        string name NameUppercasePipe\n        string implements IPipeTransform\n        string method Transform(string value) string\n    }",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the Mermaid ERD code based on the provided requirements and project context:\n\n```\nerDiagram\n    PHONE {\n        int id PK\n        string brand\n        string model\n        int storage\n        int price\n    }\n    USER {\n        int id PK\n        string name\n        string email\n    }\n    SWAP_REQUEST {\n        int id PK\n        int user_id FK references USER\n        int requested_phone_id FK references PHONE\n        int offered_phone_id FK references PHONE\n        string reason_for_request (optional)\n        enum status (Pending, Approved, Rejected)\n    }\n    PHONES_OWNED_BY_USER {\n        int user_id FK references USER\n        int phone_id FK references PHONE\n    }\n    PHONE_SERVICE {\n        list<Phone> phones\n    }\n```\n\nNote: The ERD diagram includes the following entities and relationships:\n\n* `PHONE`: represents a phone with its attributes (brand, model, storage, price).\n* `USER`: represents a user with its attributes (id, name, email).\n* `SWAP_REQUEST`: represents a swap request between two phones with additional information about the reason for the request and its status.\n* `PHONES_OWNED_BY_USER`: represents a many-to-many relationship between a user and their owned phones.\n* `PHONE_SERVICE`: represents a service that manages a list of phones.\n\nPlease review the ERD diagram to ensure it meets your requirements.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 0
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the Mermaid ERD based on the provided requirements and project context:\n\n```mermaid\nerDiagram\n    USER {\n        string id PK\n        string name\n        string email\n    }\n    PHONE {\n        int id PK\n        string brand\n        string model\n        int storage\n        double price\n    }\n    SWAP_REQUEST {\n        int id PK\n        int user_id FK references USER(id)\n        int phone_id_fk references PHONE(id)\n        string comment\n        bool status default \"Pending\"\n    }\n    PHONE_SERVICE {\n        +getPhones(): Observable<PHONE[]>\n        +addPhone(phone: PHONE): void\n        +updatePhone(phone: PHONE): void\n        +deletePhone(phoneId: number): void\n    }\n\n    USER ||--o{ SWAP_REQUEST : makes\n    PHONE ||--o{ SWAP_REQUEST : requested\n    PHONE_SERVICE }o--o{ PHONE : manages\n```\n\nNote that this ERD represents the entities and relationships described in the provided requirements and project context, including the `PHONE` entity with its attributes, the `SWAP_REQUEST` entity representing the phone swap requests, and the `PHONE_SERVICE` entity representing the phone service API. The relationships between these entities are also represented, including the one-to-one relationship between a user and their swap requests, the one-to-many relationship between a phone and its swap requests, and the many-to-one relationship between a phone service and the phones it manages.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 1
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the Mermaid ERD diagram based on the provided requirements and project context:\n\n```\nerDiagram\n    User {\n        int id PK\n        string name\n        string email\n    }\n    Phone {\n        int id PK\n        string brand\n        string model\n        int storage\n        float price\n    }\n    SwapRequest {\n        int id PK\n        int requester_id FK references User(id)\n        int requested_phone_id FK references Phone(id)\n        int offered_phone_id FK references Phone(id)\n        string comment\n        status: enum('Pending', 'Approved', 'Rejected')\n    }\n    PhoneService {\n        getPhones(): Observable<Phone[]>\n        addPhone(Phone phone): void\n        updatePhone(Phone phone): void\n        deletePhone(int phoneId): void\n    }\n\n    User ||--o{ SwapRequest : makes_request\n    Phone ||--o{ SwapRequest : is_requested\n    Phone ||--o{ SwapRequest : is_offered\n\n    SwapRequest }o--o{ Phone : requested_phone\n    SwapRequest }o--o{ Phone : offered_phone\n```\n\nThis ERD diagram represents the entities and relationships required for the phone swap request feature. The `User` entity has a one-to-many relationship with the `SwapRequest` entity, as a user can make multiple swap requests. The `Phone` entity is related to the `SwapRequest` entity through two many-to-one relationships, representing the requested and offered phones in each swap request.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 2
        },
        {
          "model": "llama3:8b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here is the Mermaid ERD diagram based on the provided requirements and project context:\n```\nerDiagram\n    User {\n        int id PK\n        string name\n        string email\n    }\n    Phone {\n        int id PK\n        string brand\n        string model\n        int storage\n        decimal price\n    }\n    SwapRequest {\n        int id PK\n        int userId FK references User(id)\n        int phoneIdToRequest FK references Phone(id)\n        int phoneIdToExchange FK references Phone(id)\n        string reasonForRequest\n        bool status default 'Pending'\n    }\n    APIEndpoint {\n        string endpoint\n        method POST\n        response SwapRequest\n    }\n```\nNote that this ERD diagram includes the entities `User`, `Phone`, and `SwapRequest`, as well as the relationships between them. The `APIEndpoint` entity represents the new API endpoint created to handle swap requests.\n\nI hope this meets your requirements! Let me know if you have any further questions or need any additional assistance.",
          "score": 70.0,
          "is_valid": false,
          "errors": [],
          "retry": 3
        }
      ],
      "folder_id": null
    },
    "created_at": "2026-01-22T18:36:24.994243",
    "is_current": false
  },
  {
    "version": 44,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "flowchart TD\n    A[Start] --> B[End]",
    "metadata": {
      "update_type": "manual_edit",
      "updated_at": "2026-01-26T19:13:25.343453",
      "artifact_type": "mermaid_erd"
    },
    "folder_id": null,
    "created_at": "2026-01-26T19:13:25.346458",
    "is_current": false
  },
  {
    "version": 45,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "flowchart TD\n    A[Start] --> B[End]",
    "metadata": {
      "updated_by": "admin",
      "update_type": "manual_edit",
      "folder_id": null,
      "artifact_type": "mermaid_erd"
    },
    "folder_id": null,
    "created_at": "2026-01-26T19:13:25.392131",
    "is_current": false
  },
  {
    "version": 46,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n  }\n  ffff {\n    string fffffffff\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n  COMMENT ||--|| ffff : \"\"\n",
    "metadata": {
      "source": "canvas_editor",
      "model_used": "manual_edit",
      "validation_score": 100,
      "is_valid": true,
      "restored_from": 16,
      "restored_at": "2026-01-26T19:19:15.849227"
    },
    "folder_id": null,
    "created_at": "2026-01-26T19:19:15.852160",
    "is_current": false
  },
  {
    "version": 47,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n  }\n  ffff {\n    string fffffffff\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n  COMMENT ||--|| ffff : \"\"\n",
    "metadata": {
      "update_type": "manual_edit",
      "updated_at": "2026-01-26T19:19:15.889183",
      "source": "canvas_editor",
      "model_used": "manual_edit",
      "validation_score": 100,
      "is_valid": true,
      "restored_from": 16,
      "restored_at": "2026-01-26T19:19:15.849227"
    },
    "folder_id": null,
    "created_at": "2026-01-26T19:19:15.893297",
    "is_current": false
  },
  {
    "version": 48,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n  }\n  ffff {\n    string fffffffff\n    string hhhh\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n  COMMENT ||--|| ffff : \"\"\n",
    "metadata": {
      "update_type": "manual_edit",
      "updated_at": "2026-01-26T19:19:42.898347"
    },
    "folder_id": null,
    "created_at": "2026-01-26T19:19:42.901949",
    "is_current": false
  },
  {
    "version": 49,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n  }\n  ffff {\n    string fffffffff\n    string hhhh\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n  COMMENT ||--|| ffff : \"\"\n",
    "metadata": {
      "updated_by": "admin",
      "update_type": "manual_edit",
      "folder_id": null,
      "artifact_type": "mermaid_erd"
    },
    "folder_id": null,
    "created_at": "2026-01-26T19:19:42.942518",
    "is_current": false
  },
  {
    "version": 50,
    "artifact_id": "mermaid_erd",
    "artifact_type": "mermaid_erd",
    "content": "erDiagram\n  USER {\n    int id PK\n    string email\n  }\n  PHONE {\n    int id PK\n    string name\n    string description\n    int user_id FK\n  }\n  SWAP_REQUEST {\n    int id PK\n    int user_id FK\n    int requested_phone_id FK\n    int offered_phone_id FK\n    string status\n    string comment\n  }\n  AVAIL_PHONE {\n    int id PK\n    string name\n    string description\n  }\n  COMMENT {\n    int id PK\n    string text\n    int swap_request_id FK\n  }\n  ffff {\n    string fffffffff\n    string hhhh\n  }\n\n  USER ||--o{ PHONE : \"owns\"\n  PHONE ||--o{ SWAP_REQUEST : \"offered_in_exchange\"\n  PHONE ||--o{ AVAIL_PHONE : \"requested_phone\"\n  SWAP_REQUEST ||--o{ COMMENT : \"reason_for_request\"\n  COMMENT ||--|| ffff : \"\"\n",
    "metadata": {
      "source": "canvas_editor",
      "model_used": "manual_edit",
      "validation_score": 100,
      "is_valid": true
    },
    "folder_id": null,
    "created_at": "2026-01-26T19:19:43.137115",
    "is_current": true
  }
]