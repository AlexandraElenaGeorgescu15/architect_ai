[
  {
    "version": 1,
    "artifact_id": "mermaid_sequence",
    "artifact_type": "mermaid_sequence",
    "content": "sequenceDiagram\n    participant PhoneSwapFeature as \"Phone Swap Feature\"\n    participant User as \"User\"\n    participant BackendAPI as \"Backend API\"\n    participant Database as \"Database\"\n\n    Note over PhoneSwapFeature, User: \"User requests phone swap\"\n    User->>PhoneSwapFeature: click \"Request Phone Swap\" button\n    PhoneSwapFeature->>PhoneSwapFeature: open modal popup\n    PhoneSwapFeature->>User: display form with options\n\n    Note over PhoneSwapFeature, BackendAPI: \"Backend API handles form submission\"\n    PhoneSwapFeature->>BackendAPI: submit request (POST /api/phone-swaps)\n    BackendAPI->>Database: store swap request in database\n    Database->>BackendAPI: confirm successful storage\n\n    Note over PhoneSwapFeature, User: \"User receives confirmation message\"\n    BackendAPI->>PhoneSwapFeature: return confirmation message\n    PhoneSwapFeature->>User: display confirmation message\n\n    Note over BackendAPI, Database: \"Backend API validates user ownership and updates request status\"\n    BackendAPI->>Database: update swap request status to 'Pending'",
    "metadata": {
      "model_used": "llama3",
      "provider": "cloud",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "Phone Swap Request Feature\nDate: October 14, 2025\nAttendees: Product Manager, UX Designer, Lead Frontend Developer, Lead Backend Developer\nObjective: Define the requirements and implementation plan fo",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"sequence_diagram\">\n                        sequenceDiagram\n    participant PhoneSwapFeature as \"Phone Swap Feature\"\n    participant User as \"User\"\n    participant BackendAPI as \"Backend API\"\n    participant Database as \"Database\"\n\n    Note over PhoneSwapFeature, User: \"User requests phone swap\"\n    User->>PhoneSwapFeature: click \"Request Phone Swap\" button\n    PhoneSwapFeature->>PhoneSwapFeature: open modal popup\n    PhoneSwapFeature->>User: display form with options\n\n    Note over PhoneSwapFeature, BackendAPI: \"Backend API handles form submission\"\n    PhoneSwapFeature->>BackendAPI: submit request (POST /api/phone-swaps)\n    BackendAPI->>Database: store swap request in database\n    Database->>BackendAPI: confirm successful storage\n\n    Note over PhoneSwapFeature, User: \"User receives confirmation message\"\n    BackendAPI->>PhoneSwapFeature: return confirmation message\n    PhoneSwapFeature->>User: display confirmation message\n\n    Note over BackendAPI, Database: \"Backend API validates user ownership and updates request status\"\n    BackendAPI->>Database: update swap request status to 'Pending'\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> sequence_diagram</p>\n                        <p><strong>Generated:</strong> 2025-12-10 22:09:33</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('sequence_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "high",
        "confidence": 0.9,
        "score": 0.9,
        "reasons": {
          "notes_depth": 0.2,
          "notes_structure": 0.05,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_541d4a83",
      "attempts": [
        {
          "model": "llama3",
          "provider": "ollama",
          "content": "Here is the generated Sequence Diagram in Mermaid syntax:\n\n```mermaid\nsequenceDiagram\n    participant PhoneSwapFeature as \"Phone Swap Feature\"\n    participant User as \"User\"\n    participant BackendAPI as \"Backend API\"\n    participant Database as \"Database\"\n\n    Note over PhoneSwapFeature, User: \"User requests phone swap\"\n    User->>PhoneSwapFeature: click \"Request Phone Swap\" button\n    PhoneSwapFeature->>PhoneSwapFeature: open modal popup\n    PhoneSwapFeature->>User: display form with options\n\n    Note over PhoneSwapFeature, BackendAPI: \"Backend API handles form submission\"\n    PhoneSwapFeature->>BackendAPI: submit request (POST /api/phone-swaps)\n    BackendAPI->>Database: store swap request in database\n    Database->>BackendAPI: confirm successful storage\n\n    Note over PhoneSwapFeature, User: \"User receives confirmation message\"\n    BackendAPI->>PhoneSwapFeature: return confirmation message\n    PhoneSwapFeature->>User: display confirmation message\n\n    Note over BackendAPI, Database: \"Backend API validates user ownership and updates request status\"\n    BackendAPI->>Database: update swap request status to 'Pending'\n```\n\nThis sequence diagram illustrates the flow of events for the phone swap feature:\n\n1. The user clicks the \"Request Phone Swap\" button.\n2. The modal popup opens, displaying a form with options (phone to request and phone to exchange).\n3. The user submits the form (POST /api/phone-swaps) to the Backend API.\n4. The Backend API stores the swap request in the database and updates the request status to 'Pending'.\n5. The Backend API returns a confirmation message to the Phone Swap Feature.\n6. The Phone Swap Feature displays the confirmation message to the user.\n\nThis sequence diagram shows the interactions between the Phone Swap Feature, User, Backend API, and Database, highlighting the key steps in handling phone swap requests.",
          "score": 100.0,
          "is_valid": true,
          "errors": [],
          "retry": 0
        }
      ]
    },
    "created_at": "2025-12-10T22:09:33.685912",
    "is_current": false
  },
  {
    "version": 2,
    "artifact_id": "mermaid_sequence",
    "artifact_type": "mermaid_sequence",
    "content": "sequenceDiagram\n    participant User as User\n    participant Server as Server\n    participant Database as Database\n    User->>Server: Request\n    Server->>Database: Query\n    Database-->>Server: Results\n    Server-->>User: Response",
    "metadata": {
      "model_used": "codellama:7b-instruct-q4_K_M",
      "provider": "cloud",
      "validation_score": 100.0,
      "is_valid": true,
      "meeting_notes": "Create a sequence diagram for a checkout process: User adds item to cart, proceeds to checkout, enters payment details, payment is processed, confirmation is sent",
      "html_content": "\n        <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>Mermaid Diagram</title>\n            <script src=\"https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js\"></script>\n            <style>\n                body {\n                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    margin: 0;\n                    padding: 20px;\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    min-height: 100vh;\n                }\n                .container {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                }\n                .header {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                    padding: 20px;\n                    text-align: center;\n                }\n                .header h1 {\n                    margin: 0;\n                    font-size: 24px;\n                    font-weight: 300;\n                }\n                .diagram-container {\n                    padding: 30px;\n                    text-align: center;\n                }\n                .mermaid {\n                    background: #f8f9fa;\n                    border-radius: 8px;\n                    padding: 20px;\n                    margin: 20px 0;\n                }\n                .info {\n                    background: #e3f2fd;\n                    border-left: 4px solid #2196f3;\n                    padding: 15px;\n                    margin: 20px 0;\n                    border-radius: 4px;\n                }\n                .info h3 {\n                    margin: 0 0 10px 0;\n                    color: #1976d2;\n                }\n                .info p {\n                    margin: 0;\n                    color: #424242;\n                }\n                .footer {\n                    background: #f5f5f5;\n                    padding: 15px;\n                    text-align: center;\n                    color: #666;\n                    font-size: 12px;\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <h1>\ud83c\udfa8 Mermaid Diagram Visualization</h1>\n                </div>\n                \n                <div class=\"diagram-container\">\n                    <div class=\"info\">\n                        <h3>\ud83d\udcca Interactive Diagram</h3>\n                        <p>This diagram is rendered using Mermaid.js and is fully interactive. You can zoom, pan, and interact with the elements.</p>\n                    </div>\n                    \n                    <div class=\"mermaid\" id=\"sequence_diagram\">\n                        sequenceDiagram\n    participant User as User\n    participant Server as Server\n    participant Database as Database\n    User->>Server: Request\n    Server->>Database: Query\n    Database-->>Server: Results\n    Server-->>User: Response\n                    </div>\n                    \n                    <div class=\"info\">\n                        <h3>\ud83d\udd27 Technical Details</h3>\n                        <p><strong>Diagram ID:</strong> sequence_diagram</p>\n                        <p><strong>Generated:</strong> 2026-01-22 11:00:22</p>\n                        <p><strong>Mermaid Version:</strong> 10.6.1</p>\n                    </div>\n                </div>\n                \n                <div class=\"footer\">\n                    <p>Generated by Architect.AI - Mermaid HTML Renderer</p>\n                </div>\n            </div>\n            \n            <script>\n                mermaid.initialize({\n                    startOnLoad: true,\n                    theme: 'default',\n                    themeVariables: {\n                        primaryColor: '#667eea',\n                        primaryTextColor: '#333',\n                        primaryBorderColor: '#764ba2',\n                        lineColor: '#666',\n                        secondaryColor: '#f8f9fa',\n                        tertiaryColor: '#e3f2fd'\n                    },\n                    flowchart: {\n                        useMaxWidth: true,\n                        htmlLabels: true\n                    },\n                    sequence: {\n                        useMaxWidth: true,\n                        wrap: true\n                    },\n                    gantt: {\n                        useMaxWidth: true\n                    }\n                });\n                \n                // Add interactivity\n                document.addEventListener('DOMContentLoaded', function() {\n                    const diagram = document.getElementById('sequence_diagram');\n                    if (diagram) {\n                        diagram.style.cursor = 'grab';\n                        diagram.addEventListener('click', function(e) {\n                            console.log('Diagram clicked:', e.target);\n                        });\n                    }\n                });\n            </script>\n        </body>\n        </html>\n        ",
      "quality_prediction": {
        "label": "medium",
        "confidence": 0.5,
        "score": 0.5,
        "reasons": {
          "notes_depth": -0.15,
          "context_rag": 0.1
        }
      },
      "job_id": "gen_0ff1fe5c",
      "attempts": [
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n5. Maintain formatting, tone and focus",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 0
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n\n##",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 1
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": "\n5. Add relevant comments if needed",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 2
        },
        {
          "model": "mermaid-mistral-22b:latest",
          "provider": "ollama",
          "content": " of codebase\n5. Maintain clarity and consistency",
          "score": 20.0,
          "is_valid": false,
          "errors": [
            "Content is too short or empty"
          ],
          "retry": 3
        },
        {
          "model": "codellama:7b-instruct-q4_K_M",
          "provider": "ollama",
          "content": "Here's a Mermaid Sequence diagram based on the requirements:\n```mermaid\nsequenceDiagram\n    participant User as User\n    participant Server as Server\n    participant Database as Database\n    User->>Server: Request\n    Server->>Database: Query\n    Database-->>Server: Results\n    Server-->>User: Response\n```",
          "score": 100.0,
          "is_valid": true,
          "errors": [],
          "retry": 0
        }
      ],
      "folder_id": null
    },
    "created_at": "2026-01-22T11:00:22.753816",
    "is_current": true
  }
]